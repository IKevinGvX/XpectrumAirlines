@page
@inject Xpectrum_Structure.Services.AeronaveService AeronaveService
@model Xpectrum_Structure.Pages.Aeronaves.IndexModel
@{
    ViewData["Title"] = "Aeronaves y Vuelos";
}

<h1 class="text-yellow-400 text-3xl mb-6">Aeronaves y sus Vuelos</h1>

@if (Model.Aeronaves == null || !Model.Aeronaves.Any())
{
    <p>No hay aeronaves disponibles.</p>
}
else
{
    <div class="space-y-8">
        @foreach (var aeronave in Model.Aeronaves)
        {
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-semibold text-yellow-400">@aeronave.Modelo (@aeronave.Matricula)</h2>
                <p>Capacidad: @aeronave.Capacidad pasajeros</p>

                @if (aeronave.Vuelos == null || !aeronave.Vuelos.Any())
                {
                    <p class="mt-2 text-gray-400">No tiene vuelos asignados.</p>
                }
                else
                {
                    <table class="table-auto w-full mt-4 border-collapse border border-gray-700 text-white">
                        <thead>
                            <tr class="bg-gray-700">
                                <th class="border border-gray-600 px-3 py-2">Código Vuelo</th>
                                <th class="border border-gray-600 px-3 py-2">Origen</th>
                                <th class="border border-gray-600 px-3 py-2">Destino</th>
                                <th class="border border-gray-600 px-3 py-2">Fecha Salida</th>
                                <th class="border border-gray-600 px-3 py-2">Hora Salida</th>
                                <th class="border border-gray-600 px-3 py-2">Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var vuelo in aeronave.Vuelos)
                            {
                                <tr>
                                    <td class="border border-gray-600 px-3 py-2">@vuelo.CodigoVuelo</td>
                                    <td class="border border-gray-600 px-3 py-2">@vuelo.AeropuertoDestino</td>
                                    <td class="border border-gray-600 px-3 py-2">@vuelo.CiudadDestino</td>
                                    <td class="border border-gray-600 px-3 py-2">@vuelo.FechaSalida</td>
                                    <td class="border border-gray-600 px-3 py-2">@vuelo.HoraSalida</td>
                                    <td class="border border-gray-600 px-3 py-2">@vuelo.EstadoVuelo</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
            </div>
        }
    </div>
}
